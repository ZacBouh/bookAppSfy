{% extends 'template.html.twig' %}

{% block Title %}{{book.title}}
{% endblock %}

{% block PageTitle %}
    {{book.title}}
{% endblock %}

{% block PageContent %}
{# HEADER #}
<div class="card mb-3" style="height: 50vh; display: flex; flex-direction: column; overflow: hidden;">
  
  <div style="flex: 1 1 50%; overflow: hidden;">
    <img 
      src="{{ asset((copy.image ?? '')|defaultImage) }}" 
      class="card-img-top" 
      alt="..." 
      style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  
  <div class="card-body" style="flex: 1 1 50%; overflow-y: auto;">
    <h5 class="card-title">{{ book.title }}</h5>
    <h6>Synopsis</h6>
    <p class="card-text">{{ book.summary }}</p>
    <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
  </div>
</div>
{# Fin du HEADER #}

<div style="display: flex; gap: 1rem;">
    {# AUTEURS #}
<div >
    <div class="card" style="width: 18rem;">
    <div class="card-header">
        Auteurs
    </div>
    <ul class="list-group list-group-flush">
        <li class="list-group-item">Scénariste {{book.writer[0]}}</li>
        <li class="list-group-item">Dessinateur {{book.penciler[0]}}</li>
    </ul>
    </div>
</div>
    {# Fin du Pricing #}
    {# EDITION #}
<div >
    <div class="card" style="width: 18rem;">
    <div class="card-header">
        Edition
    </div>
    <ul class="list-group list-group-flush">
        <li class="list-group-item">Éditeur {{book.publisher.name}}</li>
        <li class="list-group-item">Date de publication <small>{{book.publicationDate|date('d / m / Y')}}</small></li>
        <li class="list-group-item">Collection <a href="">{{book.collection.name}}</a>
        </li>
    </ul>
    </div>
</div>
    {# Fin du Pricing #}
    {# EDITION #}
<div >
    <div class="card" >
        <div class="card-header">
            Dernières Annonces
        </div>
            <ul class="list-group list-group-flush">
                {% for copy in latestCopies %}
                <li class="list-group-item">
                    <a href="{{ path('app_copy_details', {'id': copy.id}) }}">
                    {{copy.copyCondition}} {{copy.sellingPrice}} €
                    </a>
                </li>
                {% endfor %}
            </ul>
    </div>
</div>
    {# Fin du Pricing #}

</div>
{% endblock %}